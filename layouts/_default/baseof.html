<!doctype html>
<html lang="{{ .Params.lang | default "en" }}">
  <head>
    <title>
      {{- if .IsHome -}}
        {{ .Site.Title }}
      {{- else if .IsPage -}}
        {{ .Title }} - {{ .Site.Title }}
      {{- end -}}
    </title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">

    <meta
      name="description"
      content="
        {{- with .Description -}}
          {{ . }}
        {{- else -}}
          {{- if .IsPage -}}
            {{ .Summary }}
          {{- else -}}
            {{- with .Site.Params.description -}}{{ . }}{{- end -}}
          {{- end -}}
        {{- end -}}"
    />
    {{ template "_internal/opengraph.html" . }}

    <link rel="canonical" href="{{ .Permalink }}">
    {{ partial "favicon.html" . }}

    {{ $style := resources.Get "css/dist/main.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $style.RelPermalink }}">
  </head>
  <body>
    <nav>
      <div class="container flex justify-between">
        <h1>
          <a href={{ .Site.BaseURL }}>
            {{ .Site.Title }}
          </a>
        </h1>

        {{ with .Site.Menus.main }}
        <ul>
          {{ range . }}
          <li>
            <a href="{{ .URL }}" class="mr-2">{{ .Name }}</a>
          </li>
          {{ end }}
        </ul>
        {{ end }}
      </div>
    </nav>

    <main>
      <div class="container">
        {{ block "main" . }}
        {{ end }}
      </div>
    </main>

    <footer>
      <div class="container">
        <p>
          {{ .Site.Copyright | markdownify }}
        </p>
      </div>
    </footer>
  </body>
</html>
