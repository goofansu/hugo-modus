{{ define "main" }}
  <section>
    <h1>{{ .Site.Params.Greeting | default "Welcome!" }}</h1>
    <p>{{ .Site.Params.Description | markdownify }}</p>
  </section>

  {{ $pages := where .Site.RegularPages "Section" "in" .Site.MainSections }}
  {{ if le (len .Sections) 1 }}
    <h2>All posts</h2>
    {{ partial "page-list.html" $pages }}
  {{ else }}
    {{ $pages := first 10 $pages }}
    <h2>Most recent 10 posts</h2>
    {{ partial "page-list.html" $pages }}
  {{ end }}
{{ end }}
